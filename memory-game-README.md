# 메모리 게임 - 같은 그림 찾기 🃏

## 프로젝트 개요
6~7살 어린이를 위한 메모리 카드 게임입니다. 같은 그림이 그려진 카드 2장을 찾아서 짝을 맞추는 게임입니다.

## 타겟 디바이스
- 갤럭시 탭 태블릿
- 터치 기반 인터페이스

## 주요 기능

### 1. 게임 메커니즘

#### 난이도 단계별 카드 수
- **레벨 1**: 4장 (2x2 그리드, 2쌍)
- **레벨 2**: 6장 (2x3 그리드, 3쌍)
- **레벨 3**: 8장 (2x4 그리드, 4쌍)
- **레벨 4**: 10장 (2x5 그리드, 5쌍)
- **레벨 5**: 12장 (3x4 그리드, 6쌍)

#### 게임 플레이 흐름
1. **게임 시작**: 
   - 현재 레벨의 카드들이 앞면(그림)이 보이는 상태로 배치
   - 카드들이 랜덤하게 섞여서 배치됨

2. **암기 시간 (3초)**:
   - 모든 카드가 앞면으로 표시됨
   - 3초 동안 카드 위치 기억
   - 카운트다운 표시 (3... 2... 1...)

3. **카드 뒤집기**:
   - 3초 후 모든 카드가 자동으로 뒤집힘 (뒷면 표시)
   - 이제 게임 시작!

4. **카드 선택**:
   - 플레이어가 카드를 터치하면 뒤집힘
   - 첫 번째 카드 선택 → 앞면 보임
   - 두 번째 카드 선택 → 앞면 보임

5. **짝 맞추기 판정**:
   - **같은 그림일 경우**:
     - 두 카드 모두 앞면 유지 (또는 사라짐/투명화)
     - 칭찬 효과음 및 애니메이션
     - 다음 짝 찾기 계속
   
   - **다른 그림일 경우**:
     - 1초 대기 (틀린 것 확인 시간)
     - 두 카드 모두 다시 뒤집힘
     - 다시 시도

6. **스테이지 완료**:
   - 모든 짝을 맞추면 축하 화면
   - "다음 단계" 버튼 표시
   - 자동으로 다음 레벨로 진행

7. **게임 클리어**:
   - 레벨 5까지 모두 완료하면 최종 축하 화면
   - 처음부터 다시 하기 버튼

### 2. 카드 이미지 데이터베이스

#### 카테고리별 이미지 (이모지 사용)
각 레벨에서 필요한 만큼만 랜덤 선택

**동물** (20개):
- 🐕 강아지, 🐱 고양이, 🐰 토끼, 🐻 곰, 🦊 여우
- 🦁 사자, 🐯 호랑이, 🐘 코끼리, 🦒 기린, 🦓 얼룩말
- 🐼 판다, 🐷 돼지, 🐮 소, 🐴 말, 🐑 양
- 🐵 원숭이, 🐔 닭, 🐧 펭귄, 🐸 개구리, 🐢 거북이

**과일** (15개):
- 🍎 사과, 🍌 바나나, 🍇 포도, 🍓 딸기, 🍉 수박
- 🍊 귤, 🍑 복숭아, 🍒 체리, 🍍 파인애플, 🥝 키위
- 🥭 망고, 🍋 레몬, 🍐 배, 🥥 코코넛, 🫐 블루베리

**음식** (10개):
- 🍕 피자, 🍔 햄버거, 🍦 아이스크림, 🍰 케이크, 🍪 쿠키
- 🍩 도넛, 🍭 사탕, 🧁 컵케이크, 🍫 초콜릿, 🥐 크로와상

**탈것** (10개):
- 🚗 자동차, 🚕 택시, 🚌 버스, 🚎 트롤리, 🏎️ 레이싱카
- 🚑 구급차, 🚒 소방차, 🚓 경찰차, ✈️ 비행기, 🚁 헬리콥터

**자연/기타** (10개):
- ☀️ 해, 🌙 달, ⭐ 별, 🌈 무지개, 🌸 꽃
- 🌳 나무, ☁️ 구름, ❄️ 눈, 🔥 불, 💧 물

### 3. 플레이어 시스템
- 2명의 조카 프로필 (한글 게임과 동일)
- 게임 시작 시 플레이어 선택
- 각 플레이어별로 최고 기록/진행 단계 저장
- 화면 상단에 플레이어 프로필과 현재 레벨 표시

### 4. UI/UX 요구사항

#### 카드 디자인
- **크기**: 터치하기 쉬운 큰 카드 (최소 120x120px)
- **간격**: 카드 사이 충분한 여백
- **뒷면**: 물음표(?) 또는 귀여운 패턴
- **앞면**: 큰 이모지 + 선택적으로 이름 표시
- **애니메이션**: 
  - 뒤집기 3D 플립 효과
  - 짝 맞추면 확대/축하 애니메이션
  - 틀리면 살짝 흔들림 효과

#### 레이아웃
```
┌─────────────────────────────────────┐
│ 👧 둘째  |  레벨 3  |  ❤️❤️❤️       │ ← 상단 정보 바
├─────────────────────────────────────┤
│                                     │
│         [카드] [카드]               │
│         [카드] [카드]               │
│         [카드] [카드]               │  ← 게임 영역
│         [카드] [카드]               │
│                                     │
├─────────────────────────────────────┤
│   [그만하기]         [다시하기]      │ ← 하단 버튼
└─────────────────────────────────────┘
```

#### 색상 및 스타일
- **밝고 화려한 색상**: 어린이 친화적
- **큰 폰트**: 읽기 쉬운 크기
- **부드러운 애니메이션**: 60fps 유지
- **터치 피드백**: 터치 시 시각적 반응

### 5. 게임 진행 상태 관리

#### 상태 종류
- `start`: 시작 화면 (플레이어 선택)
- `preview`: 카드 암기 시간 (3초)
- `playing`: 게임 진행 중
- `checking`: 카드 2장 비교 중 (1초 대기)
- `levelComplete`: 레벨 완료
- `gameComplete`: 전체 게임 완료

#### 저장할 데이터
```javascript
{
  currentLevel: 1-5,
  selectedPlayer: { id, name, image },
  cards: [
    { id, emoji, name, isFlipped, isMatched }
  ],
  firstCard: null,
  secondCard: null,
  moves: 0, // 총 시도 횟수
  matchedPairs: 0
}
```

### 6. 게임 로직 상세

#### 카드 생성 로직
```
1. 현재 레벨에 따라 필요한 쌍의 개수 결정
   - 레벨 1: 2쌍 (4장)
   - 레벨 2: 3쌍 (6장)
   - 레벨 3: 4쌍 (8장)
   - 레벨 4: 5쌍 (10장)
   - 레벨 5: 6쌍 (12장)

2. 이미지 데이터베이스에서 랜덤하게 선택
   - 예: 레벨 1이면 2개 이미지 선택
   - 각 이미지를 2개씩 복제

3. 모든 카드 섞기 (shuffle)
   - Fisher-Yates 알고리즘 또는 sort(random)

4. 고유 ID 부여
   - 각 카드에 고유 ID (짝은 다른 ID)
```

#### 카드 클릭 처리
```
1. 이미 뒤집힌 카드는 클릭 무시
2. 이미 맞춘 카드는 클릭 무시
3. 첫 번째 카드 클릭:
   - firstCard에 저장
   - 카드 뒤집기
4. 두 번째 카드 클릭:
   - secondCard에 저장
   - 카드 뒤집기
   - 상태를 'checking'으로 변경
   - 비교 로직 실행
5. 비교 중에는 다른 카드 클릭 무시
```

#### 카드 비교 로직
```
1. firstCard와 secondCard의 이미지가 같은지 확인
2. 같으면:
   - 두 카드의 isMatched = true
   - 칭찬 애니메이션/효과음
   - matchedPairs++
   - 모든 짝을 맞췄는지 확인
   - firstCard, secondCard 초기화
   - 상태를 'playing'으로 복귀
3. 다르면:
   - 1초 대기
   - 두 카드 다시 뒤집기 (isFlipped = false)
   - firstCard, secondCard 초기화
   - 상태를 'playing'으로 복귀
```

### 7. 특수 기능

#### 힌트 시스템 (선택사항)
- 하트 3개 제공
- 하트 1개 사용하면 모든 카드 1초간 보여주기
- 어린이가 어려워하면 도움

#### 시간 제한 없음
- 6~7살 아이들이 천천히 생각할 수 있도록
- 실패 없음, 계속 시도 가능

#### 칭찬 메시지
- 짝 맞출 때마다:
  - "잘했어요! 👏"
  - "멋져요! ⭐"
  - "정말 똑똑해요! 🎉"
  - "{이름}이 최고! 🌟"
  
## 기술 스택
- **프론트엔드**: React (JSX)
- **스타일링**: Tailwind CSS (인라인)
- **애니메이션**: CSS 애니메이션 + React 상태
- **배포**: 단일 HTML 파일
- **실행 환경**: 갤럭시 탭 브라우저

## 파일 구조
```
/
├── memory-game-README.md (이 파일)
├── memory-game.html (단일 파일 버전)
└── assets/ (선택사항)
    ├── nephew1.jpg
    └── nephew2.jpg
```

## 개발 우선순위

### Phase 1 - MVP (핵심 기능)
- [ ] 카드 데이터베이스 구성 (50개 이상)
- [ ] 레벨 1 (4장) 기본 게임 로직
  - [ ] 카드 생성 및 섞기
  - [ ] 3초 미리보기
  - [ ] 카드 뒤집기 애니메이션
  - [ ] 짝 맞추기 로직
- [ ] 플레이어 선택 화면
- [ ] 기본 UI (카드, 버튼)

### Phase 2 - 레벨 시스템
- [ ] 레벨 2~5 추가
- [ ] 레벨 완료 시 다음 단계 진행
- [ ] 레벨별 그리드 레이아웃 조정
- [ ] 진행 상황 표시

### Phase 3 - 폴리싱
- [ ] 고급 애니메이션
  - [ ] 3D 카드 플립
  - [ ] 매칭 성공 축하 효과
  - [ ] 레벨 완료 애니메이션
- [ ] 효과음 (선택사항)
- [ ] 힌트 시스템 (선택사항)
- [ ] 통계 (시도 횟수, 시간)

### Phase 4 - 사용자 경험
- [ ] 조카 사진 통합
- [ ] 진행 상황 로컬 저장
- [ ] 다시하기/레벨 선택 기능
- [ ] 반응형 레이아웃 최적화

## 화면 흐름도

```
시작 화면
    ↓
플레이어 선택
    ↓
레벨 1 시작 (4장)
    ↓
카드 3초간 보여주기
    ↓
카드 뒤집기
    ↓
게임 플레이
    ↓
(짝 맞추기 반복)
    ↓
레벨 1 완료 → 축하 화면
    ↓
레벨 2 시작 (6장)
    ↓
... (반복)
    ↓
레벨 5 완료
    ↓
전체 게임 완료! 🎉
    ↓
처음부터 다시하기
```

## 주요 컴포넌트 구조

```javascript
<MemoryGame>
  {gameState === 'start' && <PlayerSelection />}
  {gameState === 'preview' && <CardPreview />}
  {gameState === 'playing' && (
    <>
      <GameHeader /> // 플레이어, 레벨, 하트
      <CardGrid />   // 카드들
      <GameFooter /> // 버튼들
    </>
  )}
  {gameState === 'levelComplete' && <LevelComplete />}
  {gameState === 'gameComplete' && <GameComplete />}
</MemoryGame>
```

## 카드 컴포넌트 상세

```javascript
<Card>
  <div className="card-inner" style={isFlipped ? 'rotateY(180deg)' : ''}>
    <div className="card-front">
      <div className="emoji">{emoji}</div>
      <div className="name">{name}</div>
    </div>
    <div className="card-back">
      <div className="pattern">❓</div>
    </div>
  </div>
</Card>
```

## 성능 최적화
- React.memo() 사용하여 불필요한 리렌더링 방지
- 애니메이션은 CSS transform 사용 (GPU 가속)
- 이미지는 이모지 사용으로 로딩 시간 제거
- 터치 이벤트 최적화 (passive listeners)

## 접근성 고려사항
- 터치 영역 충분히 크게 (최소 44x44px)
- 색맹 고려한 색상 대비
- 명확한 시각적 피드백
- 간단하고 직관적인 UI

## 테스트 시나리오

### 기본 플레이
1. 게임 시작 → 플레이어 선택
2. 레벨 1: 카드 4장 3초 보기 → 뒤집기
3. 같은 카드 2장 클릭 → 맞으면 유지
4. 다른 카드 2장 클릭 → 틀리면 다시 뒤집기
5. 모든 짝 맞추기 → 레벨 완료
6. 다음 레벨 진행

### 엣지 케이스
- 빠르게 연속으로 카드 클릭 (비교 중 무시)
- 이미 맞춘 카드 클릭 (무시)
- 같은 카드 2번 클릭 (무시)
- 레벨 5 완료 후 처리

## 향후 개선 아이디어
- 멀티플레이어 모드 (교대로 진행)
- 타이머 모드 (시간 제한 추가)
- 난이도 선택 (쉬움/보통/어려움)
- 테마 선택 (동물만, 과일만 등)
- 성취 배지 시스템
- 통계 화면 (최고 기록, 총 플레이 횟수)
- 음성 피드백 (이름 읽어주기)
- 배경음악 (켜기/끄기 옵션)

## 개발 시 주의사항
1. **카드 섞기는 매번 랜덤하게**: 같은 패턴 반복 방지
2. **애니메이션 중 클릭 방지**: 상태 관리 철저히
3. **메모리 누수 방지**: useEffect cleanup 함수 사용
4. **터치 최적화**: 더블탭 줌 방지 (user-scalable=no)
5. **반응 속도**: 모든 인터랙션은 즉각 반응
6. **에러 처리**: 예상치 못한 상황 대비

## 참고 자료
- React 공식 문서: https://react.dev
- Tailwind CSS: https://tailwindcss.com
- CSS 3D 변환: https://developer.mozilla.org/en-US/docs/Web/CSS/transform
- Fisher-Yates Shuffle: https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle

## 라이센스
개인 프로젝트 (비상업적 용도)

---

**개발 시작 체크리스트:**
- [ ] README.md 읽고 이해하기
- [ ] 기본 HTML 구조 만들기
- [ ] React 컴포넌트 설계하기
- [ ] 카드 데이터베이스 구성하기
- [ ] 게임 로직 구현하기
- [ ] UI 디자인 적용하기
- [ ] 테스트 및 디버깅
- [ ] 조카 사진 통합하기
- [ ] 최종 배포 준비

화이팅! 🎉
